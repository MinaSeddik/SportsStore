{{ formSubmitted }}
{{ form.controls['name'].dirty }}
{{ form.controls['name'].invalid }}
{{ (formSubmitted || form.controls['name'].dirty) && form.controls['name'].invalid }}
<h2> Model-Based Forms (Reactive Forms) </h2>
<div class="m-2">
  <div class="bg-info text-white mb-2 p-2">Model Data: {{ jsonProduct }}</div>

  <!--    novalidate: not to use the browser native validation feature -->
  <form class="m-2" novalidate [formGroup]="form" (ngSubmit)="submitFormReactive(form)">

    <div class="bg-danger text-white p-2 mb-2" *ngIf="formSubmitted && form.invalid">
      There are problems with the form
      <ul>
        <li *ngFor="let error of form.getFormValidationMessages()">
          {{ error }}
        </li>
      </ul>
    </div>

    <div class="form-group">
      <label>Name</label>
      <input class="form-control" name="name" [(ngModel)]="newProduct.name" formControlName="name"/>
      <ul class="text-danger list-unstyled"
          *ngIf="(formSubmitted || form.controls['name'].dirty) && form.controls['name'].invalid">
        <li *ngFor="let error of $any(form.controls['name']).getValidationMessages()">
          {{ error }}
        </li>
      </ul>
    </div>


    <div class="form-group">
      <label>Category</label>
      <input class="form-control" name="category" [(ngModel)]="newProduct.category" formControlName="category"/>
      <ul class="text-danger list-unstyled"
          *ngIf="(formSubmitted || form.controls['category'].dirty) && form.controls['category'].invalid">
        <li *ngFor="let error of $any(form.controls['category']).getValidationMessages()">
          {{ error }}
        </li>
      </ul>
    </div>


    <div class="form-group">
      <label>Price</label>
      <input class="form-control" name="price" [(ngModel)]="newProduct.price" formControlName="price"/>
      <ul class="text-danger list-unstyled"
          *ngIf="(formSubmitted || form.controls['price'].dirty) && form.controls['price'].invalid">
        <li *ngFor="let error of $any(form.controls['price']).getValidationMessages()">
          {{ error }}
        </li>
      </ul>
    </div>


    <!--    <button class="btn btn-primary" (click)="addProduct(newProduct)">Create</button>-->
    <button class="btn btn-primary" type="submit"
            [disabled]="form.invalid"
            [class.btn-secondary]="form.invalid">Create
    </button>
  </form>


</div>

<br/>
<br/>
<br/>
<br/>

